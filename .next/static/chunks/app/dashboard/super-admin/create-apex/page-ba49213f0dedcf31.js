(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[898],{3540:function(e,s,r){Promise.resolve().then(r.bind(r,9625))},7648:function(e,s,r){"use strict";r.d(s,{default:function(){return t.a}});var a=r(2972),t=r.n(a)},9376:function(e,s,r){"use strict";var a=r(5475);r.o(a,"usePathname")&&r.d(s,{usePathname:function(){return a.usePathname}}),r.o(a,"useRouter")&&r.d(s,{useRouter:function(){return a.useRouter}})},9625:function(e,s,r){"use strict";r.r(s),r.d(s,{default:function(){return d}});var a=r(7437),t=r(2265),n=r(9376),o=r(7648);function d(){let e=(0,n.useRouter)(),[s,r]=(0,t.useState)({firstName:"",lastName:"",email:"",password:"",confirmPassword:""}),[d,l]=(0,t.useState)(!1),[i,m]=(0,t.useState)(null),[u,c]=(0,t.useState)(null),f=e=>{let{name:s,value:a}=e.target;r(e=>({...e,[s]:a}))},x=async a=>{if(a.preventDefault(),l(!0),m(null),c(null),s.password!==s.confirmPassword){m("Passwords do not match."),l(!1);return}try{let a=await fetch("/api/admin/create-apex",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({firstName:s.firstName,lastName:s.lastName,email:s.email,password:s.password})}),t=await a.json();if(!a.ok)throw Error(t.error||"Something went wrong");c("Apex user created successfully!"),r({firstName:"",lastName:"",email:"",password:"",confirmPassword:""}),setTimeout(()=>e.push("/dashboard/super-admin/users"),2e3)}catch(e){m(e.message)}finally{l(!1)}};return(0,a.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Create New Apex User"}),(0,a.jsx)(o.default,{href:"/dashboard/super-admin",className:"text-green-600 hover:text-green-500",children:"‚Üê Back to Dashboard"})]}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow p-8",children:(0,a.jsxs)("form",{onSubmit:x,className:"space-y-6",children:[i&&(0,a.jsx)("div",{className:"p-4 mb-4 text-sm text-red-700 bg-red-100 rounded-lg",children:i}),u&&(0,a.jsx)("div",{className:"p-4 mb-4 text-sm text-green-700 bg-green-100 rounded-lg",children:u}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-700",children:"First Name"}),(0,a.jsx)("input",{type:"text",name:"firstName",id:"firstName",value:s.firstName,onChange:f,required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700",children:"Last Name"}),(0,a.jsx)("input",{type:"text",name:"lastName",id:"lastName",value:s.lastName,onChange:f,required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email Address"}),(0,a.jsx)("input",{type:"email",name:"email",id:"email",value:s.email,onChange:f,required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),(0,a.jsx)("input",{type:"password",name:"password",id:"password",value:s.password,onChange:f,required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirm Password"}),(0,a.jsx)("input",{type:"password",name:"confirmPassword",id:"confirmPassword",value:s.confirmPassword,onChange:f,required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"})]}),(0,a.jsx)("div",{className:"flex justify-end",children:(0,a.jsx)("button",{type:"submit",disabled:d,className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50",children:d?"Creating User...":"Create User"})})]})})]})}}},function(e){e.O(0,[972,971,117,744],function(){return e(e.s=3540)}),_N_E=e.O()}]);