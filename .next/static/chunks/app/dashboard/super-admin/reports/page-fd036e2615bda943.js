(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[577],{5081:function(e,s,t){Promise.resolve().then(t.bind(t,601))},7648:function(e,s,t){"use strict";t.d(s,{default:function(){return l.a}});var a=t(2972),l=t.n(a)},601:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return r}});var a=t(7437),l=t(7648),i=t(2265);function r(){let[e,s]=(0,i.useState)("overview"),[t,r]=(0,i.useState)("30"),[c,n]=(0,i.useState)(!0),[d,o]=(0,i.useState)(null);(0,i.useEffect)(()=>{x()},[t]);let x=async()=>{try{n(!0);let e=await fetch("/api/admin/reports?range=".concat(t));if(e.ok){let s=await e.json();o(s)}}catch(e){console.error("Error fetching report data:",e)}finally{n(!1)}},m=async e=>{try{let s=await fetch("/api/admin/reports/export?type=".concat(e,"&range=").concat(t),{method:"POST"});if(s.ok){let t=await s.blob(),a=window.URL.createObjectURL(t),l=document.createElement("a");l.href=a,l.download="".concat(e,"-report-").concat(new Date().toISOString().split("T")[0],".csv"),document.body.appendChild(l),l.click(),window.URL.revokeObjectURL(a),document.body.removeChild(l)}}catch(e){console.error("Error exporting report:",e)}};return c?(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,a.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#0D5E42]"})})}):(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Reports & Analytics"}),(0,a.jsx)(l.default,{href:"/dashboard/super-admin",className:"text-[#0D5E42] hover:text-[#0A4A35]",children:"â† Back to Dashboard"})]}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date Range"}),(0,a.jsxs)("select",{value:t,onChange:e=>r(e.target.value),className:"border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#0D5E42]",children:[(0,a.jsx)("option",{value:"7",children:"Last 7 days"}),(0,a.jsx)("option",{value:"30",children:"Last 30 days"}),(0,a.jsx)("option",{value:"90",children:"Last 90 days"}),(0,a.jsx)("option",{value:"365",children:"Last year"})]})]}),(0,a.jsxs)("div",{className:"flex space-x-3",children:[(0,a.jsx)("button",{onClick:()=>m("overview"),className:"bg-[#0D5E42] text-white px-4 py-2 rounded-md hover:bg-[#0A4A35] transition",children:"Export Overview"}),(0,a.jsx)("button",{onClick:()=>m("detailed"),className:"bg-yellow-500 text-white px-4 py-2 rounded-md hover:bg-yellow-600 transition",children:"Export Detailed"})]})]})}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow mb-6",children:(0,a.jsx)("div",{className:"border-b border-gray-200",children:(0,a.jsx)("nav",{className:"-mb-px flex space-x-8 px-6",children:[{id:"overview",name:"Overview",icon:"\uD83D\uDCCA"},{id:"users",name:"Users",icon:"\uD83D\uDC65"},{id:"cooperatives",name:"Cooperatives",icon:"\uD83C\uDFE2"},{id:"financial",name:"Financial",icon:"\uD83D\uDCB0"},{id:"loans",name:"Loans",icon:"\uD83D\uDCC8"},{id:"activity",name:"Activity",icon:"\uD83D\uDCCB"}].map(t=>(0,a.jsxs)("button",{onClick:()=>s(t.id),className:"py-4 px-1 border-b-2 font-medium text-sm ".concat(e===t.id?"border-[#0D5E42] text-[#0D5E42]":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[(0,a.jsx)("span",{className:"mr-2",children:t.icon}),t.name]},t.id))})})}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:["overview"===e&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"System Overview"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,a.jsx)("div",{className:"bg-gradient-to-r from-[#0D5E42] to-[#0A4A35] rounded-lg p-6 text-white",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"text-sm opacity-90",children:"Total Users"}),(0,a.jsx)("p",{className:"text-3xl font-bold",children:(null==d?void 0:d.totalUsers)||0})]}),(0,a.jsx)("div",{className:"text-4xl",children:"\uD83D\uDC65"})]})}),(0,a.jsx)("div",{className:"bg-gradient-to-r from-yellow-500 to-yellow-600 rounded-lg p-6 text-white",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"text-sm opacity-90",children:"Cooperatives"}),(0,a.jsx)("p",{className:"text-3xl font-bold",children:(null==d?void 0:d.totalCooperatives)||0})]}),(0,a.jsx)("div",{className:"text-4xl",children:"\uD83C\uDFE2"})]})}),(0,a.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 rounded-lg p-6 text-white",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"text-sm opacity-90",children:"Transactions"}),(0,a.jsx)("p",{className:"text-3xl font-bold",children:(null==d?void 0:d.totalTransactions)||0})]}),(0,a.jsx)("div",{className:"text-4xl",children:"\uD83D\uDCB0"})]})}),(0,a.jsx)("div",{className:"bg-gradient-to-r from-green-500 to-green-600 rounded-lg p-6 text-white",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"text-sm opacity-90",children:"Active Loans"}),(0,a.jsx)("p",{className:"text-3xl font-bold",children:(null==d?void 0:d.activeLoans)||0})]}),(0,a.jsx)("div",{className:"text-4xl",children:"\uD83D\uDCC8"})]})})]}),(0,a.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Monthly Growth"}),(0,a.jsx)("div",{className:"h-64 flex items-center justify-center text-gray-500",children:"\uD83D\uDCCA Chart visualization would go here"})]})]}),"users"===e&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"User Analytics"}),(0,a.jsx)("div",{className:"text-center text-gray-500 py-8",children:"User analytics data will be displayed here"})]}),"cooperatives"===e&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Cooperative Analytics"}),(0,a.jsx)("div",{className:"text-center text-gray-500 py-8",children:"Cooperative analytics data will be displayed here"})]}),"financial"===e&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Financial Analytics"}),(0,a.jsx)("div",{className:"text-center text-gray-500 py-8",children:"Financial analytics data will be displayed here"})]}),"loans"===e&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Loan Analytics"}),(0,a.jsx)("div",{className:"text-center text-gray-500 py-8",children:"Loan analytics data will be displayed here"})]}),"activity"===e&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"System Activity"}),(0,a.jsx)("div",{className:"text-center text-gray-500 py-8",children:"System activity data will be displayed here"})]})]})]})}}},function(e){e.O(0,[972,971,117,744],function(){return e(e.s=5081)}),_N_E=e.O()}]);