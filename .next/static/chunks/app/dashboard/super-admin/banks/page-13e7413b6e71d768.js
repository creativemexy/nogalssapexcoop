(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[243],{6531:function(e,t,a){Promise.resolve().then(a.bind(a,8681))},7648:function(e,t,a){"use strict";a.d(t,{default:function(){return n.a}});var s=a(2972),n=a.n(s)},8681:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return r}});var s=a(7437),n=a(2265),d=a(7648),l=a(6586);function r(){let[e,t]=(0,n.useState)(l.S),[a,r]=(0,n.useState)(!1),[i,c]=(0,n.useState)(!1),[o,m]=(0,n.useState)(null),[u,x]=(0,n.useState)({name:"",code:""}),[h,g]=(0,n.useState)(!1),[p,f]=(0,n.useState)(null),[b,y]=(0,n.useState)(null),N=e=>{m(e),x({name:e.name,code:e.code}),c(!0),f(null),y(null)},j=async e=>{if(confirm("Are you sure you want to delete this bank?")){g(!0),f(null),y(null);try{t(t=>t.filter(t=>t.id!==e)),y("Bank deleted successfully")}catch(e){f(e.message||"Failed to delete bank")}finally{g(!1)}}},v=async e=>{e.preventDefault(),g(!0),f(null),y(null);try{if(i&&o)t(e=>e.map(e=>e.id===o.id?{...e,name:u.name,code:u.code}:e)),y("Bank updated successfully"),c(!1);else{let e={id:Date.now().toString(),name:u.name,code:u.code};t(t=>[...t,e]),y("Bank added successfully"),r(!1)}x({name:"",code:""})}catch(e){f(e.message||"Operation failed")}finally{g(!1)}},w=e=>{x({...u,[e.target.name]:e.target.value})};return(0,s.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Manage Banks"}),(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsx)("button",{onClick:()=>{x({name:"",code:""}),r(!0),f(null),y(null)},className:"bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 transition-colors",children:"Add Bank"}),(0,s.jsx)(d.default,{href:"/dashboard/super-admin",className:"text-green-600 hover:text-green-500",children:"← Back to Dashboard"})]})]}),p&&(0,s.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:p}),b&&(0,s.jsx)("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-4",children:b}),(0,s.jsx)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,s.jsx)("thead",{className:"bg-gray-50",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Bank Name"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Code"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,s.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(e=>(0,s.jsxs)("tr",{className:"hover:bg-green-50",children:[(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.name}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.code||"N/A"}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)("button",{onClick:()=>N(e),className:"text-yellow-600 hover:text-yellow-900",children:"Edit"}),(0,s.jsx)("button",{onClick:()=>j(e.id),className:"text-red-600 hover:text-red-900",disabled:h,children:"Delete"})]})})]},e.id))})]})})}),(a||i)&&(0,s.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,s.jsx)("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:(0,s.jsxs)("div",{className:"mt-3",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:i?"Edit Bank":"Add New Bank"}),(0,s.jsxs)("form",{onSubmit:v,className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Bank Name *"}),(0,s.jsx)("input",{type:"text",name:"name",value:u.name,onChange:w,required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-green-500 focus:border-green-500"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Bank Code"}),(0,s.jsx)("input",{type:"text",name:"code",value:u.code,onChange:w,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-green-500 focus:border-green-500"})]}),(0,s.jsxs)("div",{className:"flex justify-end gap-3 pt-4",children:[(0,s.jsx)("button",{type:"button",onClick:()=>{r(!1),c(!1),m(null),x({name:"",code:""}),f(null),y(null)},className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300",children:"Cancel"}),(0,s.jsx)("button",{type:"submit",disabled:h,className:"px-4 py-2 text-sm font-medium text-white bg-green-600 rounded-md hover:bg-green-700 disabled:opacity-50",children:h?"Saving...":i?"Update":"Add"})]})]})]})})})]})}}},function(e){e.O(0,[972,586,971,117,744],function(){return e(e.s=6531)}),_N_E=e.O()}]);