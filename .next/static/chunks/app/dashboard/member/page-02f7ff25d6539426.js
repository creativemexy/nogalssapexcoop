(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[993],{2568:function(e,s,t){Promise.resolve().then(t.bind(t,6194))},6194:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return i}});var a=t(7437),n=t(605),l=t(7648),r=t(3145),c=t(2265);function i(){var e,s;let{data:t}=(0,n.useSession)(),[i,d]=(0,c.useState)(null),[o,x]=(0,c.useState)(0),[m,h]=(0,c.useState)([]),[u,p]=(0,c.useState)(!0);return(0,c.useEffect)(()=>{{let e=localStorage.getItem("virtualAccountInfo");e&&d(JSON.parse(e))}},[]),(0,c.useEffect)(()=>{(async()=>{p(!0);let e=await fetch("/api/member/savings"),s=await e.json();x(s.totalSavings),h(s.transactions),p(!1)})()},[]),(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,a.jsx)("div",{className:"flex flex-col items-center mb-6",children:(0,a.jsx)(r.default,{src:"/logo.png",alt:"Nogalss Logo",width:120,height:120,className:"mb-2"})}),(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-6 text-center",children:"Member Dashboard"}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-8",children:[(0,a.jsxs)("p",{className:"text-gray-600",children:["Welcome, ",null==t?void 0:null===(e=t.user)||void 0===e?void 0:e.name,"."]}),(0,a.jsx)("p",{className:"mt-4 text-gray-600",children:"This is your personal dashboard. Here you can view your contributions, apply for loans, and see your transaction history."}),i&&(0,a.jsxs)("div",{className:"mt-8 p-6 rounded-lg border border-green-200 bg-green-50",children:[(0,a.jsx)("h2",{className:"text-lg font-bold text-green-700 mb-2",children:"Your Virtual Account"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"block text-xs text-gray-500",children:"Bank Name"}),(0,a.jsx)("span",{className:"font-semibold text-green-800",children:(null===(s=i.bank)||void 0===s?void 0:s.name)||i.bank})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"block text-xs text-gray-500",children:"Account Number"}),(0,a.jsx)("span",{className:"font-semibold text-green-800",children:i.accountNumber})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"block text-xs text-gray-500",children:"Account Name"}),(0,a.jsx)("span",{className:"font-semibold text-green-800",children:i.accountName})]})]})]}),(0,a.jsxs)("div",{className:"mt-8",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-green-700 mb-2",children:"Total Savings"}),u?(0,a.jsx)("div",{className:"text-gray-500",children:"Loading..."}):(0,a.jsxs)("div",{className:"text-3xl font-bold text-green-700 mb-4",children:["₦",o.toLocaleString()]}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mt-8 mb-2",children:"Transaction History"}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,a.jsx)("thead",{className:"bg-green-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-green-700 uppercase",children:"Date"}),(0,a.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-green-700 uppercase",children:"Amount"}),(0,a.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-green-700 uppercase",children:"Status"}),(0,a.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-green-700 uppercase",children:"Reference"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-100",children:0===m.length?(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:4,className:"px-4 py-4 text-center text-gray-400",children:"No transactions found."})}):m.map(e=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"px-4 py-2 whitespace-nowrap",children:new Date(e.date).toLocaleDateString()}),(0,a.jsxs)("td",{className:"px-4 py-2 whitespace-nowrap",children:["₦",e.amount.toLocaleString()]}),(0,a.jsx)("td",{className:"px-4 py-2 whitespace-nowrap",children:"SUCCESSFUL"===e.status?(0,a.jsx)("span",{className:"inline-block px-2 py-1 text-xs font-semibold bg-green-100 text-green-700 rounded",children:"Successful"}):(0,a.jsx)("span",{className:"inline-block px-2 py-1 text-xs font-semibold bg-yellow-100 text-yellow-700 rounded",children:e.status})}),(0,a.jsx)("td",{className:"px-4 py-2 whitespace-nowrap",children:e.reference})]},e.reference))})]})})]}),(0,a.jsxs)("div",{className:"mt-6",children:[(0,a.jsx)(l.default,{href:"/dashboard/member/contributions",className:"text-green-600 hover:text-green-500 mr-4",children:"My Contributions"}),(0,a.jsx)(l.default,{href:"/dashboard/member/loans",className:"text-green-600 hover:text-green-500",children:"My Loans"})]})]})]})}}},function(e){e.O(0,[972,605,726,971,117,744],function(){return e(e.s=2568)}),_N_E=e.O()}]);