"use strict";(()=>{var e={};e.id=1330,e.ids=[1330],e.modules={20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},7666:(e,t,a)=>{a.r(t),a.d(t,{originalPathname:()=>m,patchFetch:()=>k,requestAsyncStorage:()=>p,routeModule:()=>c,serverHooks:()=>l,staticGenerationAsyncStorage:()=>d});var r={};a.r(r),a.d(r,{POST:()=>i});var s=a(49303),n=a(88716),o=a(60670),u=a(87070);async function i(e){try{let{email:t,firstName:a,lastName:r,phone:s,reference:n}=await e.json();if(!t||!a||!r||!s||!n)return u.NextResponse.json({error:"Missing required fields"},{status:400});let o=process.env.PAYSTACK_SECRET_KEY;if(!o)return u.NextResponse.json({error:"Paystack secret key not set"},{status:500});let i=await fetch("https://api.paystack.co/dedicated_account",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`},body:JSON.stringify({customer:{first_name:a,last_name:r,email:t,phone:s},preferred_bank:"wema-bank",reference:n})}),c=await i.json();if(!i.ok)return u.NextResponse.json({error:c.message||"Paystack error"},{status:i.status});return u.NextResponse.json({accountName:c.data.account_name,accountNumber:c.data.account_number,bank:c.data.bank,provider:c.data.provider,raw:c.data})}catch(e){return u.NextResponse.json({error:"Internal server error"},{status:500})}}let c=new s.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/paystack/virtual-account/route",pathname:"/api/paystack/virtual-account",filename:"route",bundlePath:"app/api/paystack/virtual-account/route"},resolvedPagePath:"/home/mexy/Desktop/newNogalss/src/app/api/paystack/virtual-account/route.ts",nextConfigOutput:"",userland:r}),{requestAsyncStorage:p,staticGenerationAsyncStorage:d,serverHooks:l}=c,m="/api/paystack/virtual-account/route";function k(){return(0,o.patchFetch)({serverHooks:l,staticGenerationAsyncStorage:d})}}};var t=require("../../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[9276,5972],()=>a(7666));module.exports=r})();